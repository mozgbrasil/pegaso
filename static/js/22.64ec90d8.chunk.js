(this["webpackJsonp@mozg/react-pegaso"]=this["webpackJsonp@mozg/react-pegaso"]||[]).push([[22],{567:function(e,t,o){"use strict";o.r(t);var s=o(12),a=o(80),n=o(45),i=o(0),h=o.n(i),r=o(54);o(568);a.b.registerPlugin(a.b,n.e,a.a),t.default=function(e){var t=Object(i.useState)(0),o=Object(s.a)(t,2),a=(o[0],o[1],Object(i.useState)(null)),n=Object(s.a)(a,2),d=(n[0],n[1],function textJavascript(){var e,t,o,s,a,n,i,h=15881030,d=15592231,c=14209233,w=5845806,m=2300175,l=4555336,M=6460005;function handleWindowResize(){s=window.innerHeight,a=window.innerWidth,n.setSize(a,s),t.aspect=a/s,t.updateProjectionMatrix()}var p,v,y,u,S,z,f=function Land(){var e=new r.CylinderGeometry(600,600,1700,40,10);e.applyMatrix4((new r.Matrix4).makeRotationX(-Math.PI/2));var t=new r.MeshPhongMaterial({color:M});this.mesh=new r.Mesh(e,t),this.mesh.receiveShadow=!0},x=function Orbit(){var e=new r.Object3D;this.mesh=e},g=function Sun(){this.mesh=new r.Object3D;var e=new r.SphereGeometry(400,20,10),t=new r.MeshPhongMaterial({color:d}),o=new r.Mesh(e,t);o.castShadow=!1,o.receiveShadow=!1,this.mesh.add(o)},P=function Cloud(){this.mesh=new r.Object3D;for(var e=new r.DodecahedronGeometry(20,0),t=new r.MeshPhongMaterial({color:c}),o=3+Math.floor(3*Math.random()),s=0;s<o;s++){var a=new r.Mesh(e,t);a.position.x=15*s,a.position.y=10*Math.random(),a.position.z=10*Math.random(),a.rotation.z=Math.random()*Math.PI*2,a.rotation.y=Math.random()*Math.PI*2;var n=.1+.9*Math.random();a.scale.set(n,n,n),this.mesh.add(a)}},G=function Sky(){this.mesh=new r.Object3D,this.nClouds=25;for(var e=2*Math.PI/this.nClouds,t=0;t<this.nClouds;t++){var o=new P,s=e*t,a=800+200*Math.random();o.mesh.position.y=Math.sin(s)*a,o.mesh.position.x=Math.cos(s)*a,o.mesh.rotation.z=s+Math.PI/2,o.mesh.position.z=-400-400*Math.random();var n=1+2*Math.random();o.mesh.scale.set(n,n,n),this.mesh.add(o.mesh)}},b=function Tree(){this.mesh=new r.Object3D;var e=new r.MeshPhongMaterial({color:l}),t=new r.BoxGeometry(10,20,10),o=new r.MeshBasicMaterial({color:w}),s=new r.Mesh(t,o);s.castShadow=!0,s.receiveShadow=!0,this.mesh.add(s);var a=new r.CylinderGeometry(1,36,36,4),n=new r.Mesh(a,e);n.castShadow=!0,n.receiveShadow=!0,n.position.y=20,this.mesh.add(n);var i=new r.CylinderGeometry(1,27,27,4),h=new r.Mesh(i,e);h.castShadow=!0,h.position.y=40,h.receiveShadow=!0,this.mesh.add(h);var d=new r.CylinderGeometry(1,18,18,4),c=new r.Mesh(d,e);c.castShadow=!0,c.position.y=55,c.receiveShadow=!0,this.mesh.add(c)},B=function Flower(){this.mesh=new r.Object3D;var e=new r.BoxGeometry(5,50,5,1,1,1),t=new r.MeshPhongMaterial({color:l}),o=new r.Mesh(e,t);o.castShadow=!1,o.receiveShadow=!0,this.mesh.add(o);var s=new r.BoxGeometry(10,10,10,1,1,1),a=new r.MeshPhongMaterial({color:d}),n=new r.Mesh(s,a);n.castShadow=!1,n.receiveShadow=!0;var i=j[Math.floor(3*Math.random())],h=new r.BoxGeometry(15,20,5,1,1,1),c=new r.MeshBasicMaterial({color:i});h.vertices[5].y-=4,h.vertices[4].y-=4,h.vertices[7].y+=4,h.vertices[6].y+=4,h.translate(12.5,0,3);for(var w=[],m=0;m<4;m++)w[m]=new r.Mesh(h,c),w[m].rotation.z=m*Math.PI/2,w[m].castShadow=!0,w[m].receiveShadow=!0;n.add(w[0],w[1],w[2],w[3]),n.position.y=25,n.position.z=3,this.mesh.add(n)},j=[h,d,6865856],O=function Forest(){this.mesh=new r.Object3D,this.nTrees=300;for(var e=2*Math.PI/this.nTrees,t=0;t<this.nTrees;t++){var o=new b,s=e*t,a=605;o.mesh.position.y=Math.sin(s)*a,o.mesh.position.x=Math.cos(s)*a,o.mesh.rotation.z=s+Math.PI/2*3,o.mesh.position.z=0-600*Math.random();var n=.3+.75*Math.random();o.mesh.scale.set(n,n,n),this.mesh.add(o.mesh)}this.nFlowers=350;for(e=2*Math.PI/this.nFlowers,t=0;t<this.nFlowers;t++){var i=new B;s=e*t,a=605;i.mesh.position.y=Math.sin(s)*a,i.mesh.position.x=Math.cos(s)*a,i.mesh.rotation.z=s+Math.PI/2*3,i.mesh.position.z=0-600*Math.random();n=.1+.3*Math.random();i.mesh.scale.set(n,n,n),this.mesh.add(i.mesh)}},I=function AirPlane(){this.mesh=new r.Object3D;var e=new r.BoxGeometry(80,50,50,1,1,1),t=new r.MeshPhongMaterial({color:h});e.vertices[4].y-=10,e.vertices[4].z+=20,e.vertices[5].y-=10,e.vertices[5].z-=20,e.vertices[6].y+=30,e.vertices[6].z+=20,e.vertices[7].y+=30,e.vertices[7].z-=20;var o=new r.Mesh(e,t);o.castShadow=!0,o.receiveShadow=!0,this.mesh.add(o);var s=new r.BoxGeometry(20,50,50,1,1,1),a=new r.MeshPhongMaterial({color:c}),n=new r.Mesh(s,a);n.position.x=40,n.castShadow=!0,n.receiveShadow=!0,this.mesh.add(n);var i=new r.BoxGeometry(15,20,5,1,1,1),d=new r.MeshPhongMaterial({color:h}),l=new r.Mesh(i,d);l.position.set(-35,25,0),l.castShadow=!0,l.receiveShadow=!0,this.mesh.add(l);var M=new r.BoxGeometry(40,4,150,1,1,1),p=new r.MeshPhongMaterial({color:h}),v=new r.Mesh(M,p),y=new r.Mesh(M,p);v.castShadow=!0,v.receiveShadow=!0,y.castShadow=!0,y.receiveShadow=!0,v.position.set(20,12,0),y.position.set(20,-3,0),this.mesh.add(v),this.mesh.add(y);var u=new r.BoxGeometry(3,15,20,1,1,1),S=new r.MeshPhongMaterial({color:c,transparent:!0,opacity:.3}),z=new r.Mesh(u,S);z.position.set(5,27,0),z.castShadow=!0,z.receiveShadow=!0,this.mesh.add(z);var f=new r.BoxGeometry(20,10,10,1,1,1);f.vertices[4].y-=5,f.vertices[4].z+=5,f.vertices[5].y-=5,f.vertices[5].z-=5,f.vertices[6].y+=5,f.vertices[6].z+=5,f.vertices[7].y+=5,f.vertices[7].z-=5;var x=new r.MeshPhongMaterial({color:w});this.propeller=new r.Mesh(f,x),this.propeller.castShadow=!0,this.propeller.receiveShadow=!0;var g=new r.BoxGeometry(1,100,10,1,1,1),P=new r.BoxGeometry(1,10,100,1,1,1),G=new r.MeshPhongMaterial({color:m}),b=new r.Mesh(g,G);b.position.set(8,0,0),b.castShadow=!0,b.receiveShadow=!0;var B=new r.Mesh(P,G);B.position.set(8,0,0),B.castShadow=!0,B.receiveShadow=!0,this.propeller.add(b,B),this.propeller.position.set(50,0,0),this.mesh.add(this.propeller);var j=new r.BoxGeometry(30,15,10,1,1,1),O=new r.MeshPhongMaterial({color:c}),I=new r.Mesh(j,O);I.position.set(25,-20,25),this.mesh.add(I);var C=new r.BoxGeometry(24,24,4),D=new r.MeshPhongMaterial({color:m}),F=new r.Mesh(C,D);F.position.set(25,-28,25);var L=new r.BoxGeometry(10,10,6),E=new r.MeshPhongMaterial({color:w}),k=new r.Mesh(L,E);F.add(k),this.mesh.add(F);var T=I.clone();T.position.z=-I.position.z,this.mesh.add(T);var W=F.clone();W.position.z=-F.position.z,this.mesh.add(W);var R=F.clone();R.scale.set(.5,.5,.5),R.position.set(-35,-5,0),this.mesh.add(R);var H=new r.BoxGeometry(4,20,4);H.applyMatrix4((new r.Matrix4).makeTranslation(0,10,0));var J=new r.MeshPhongMaterial({color:h}),A=new r.Mesh(H,J);A.position.set(-35,-5,0),A.rotation.z=-.3,this.mesh.add(A)},C={x:0,y:0};function normalize(e,t,o,s,a){return s+(Math.max(Math.min(e,o),t)-t)/(o-t)*(a-s)}function loop(){y.mesh.rotation.z+=.005,u.mesh.rotation.z+=.001,p.mesh.rotation.z+=.003,v.mesh.rotation.z+=.005,function updatePlane(){var e=normalize(C.y,-.75,.75,50,190),t=normalize(C.x,-.75,.75,-100,-20);S.mesh.position.y+=.1*(e-S.mesh.position.y),S.mesh.position.x+=.1*(t-S.mesh.position.x),S.mesh.rotation.z=.0128*(e-S.mesh.position.y),S.mesh.rotation.x=.0064*(S.mesh.position.y-e),S.mesh.rotation.y=.0064*(S.mesh.position.x-t),S.propeller.rotation.x+=.3}(),n.render(e,t),requestAnimationFrame(loop)}function handleMouseMove(e){var t=e.clientX/a*2-1,o=1-e.clientY/s*2;C={x:t,y:o}}!function init(h){!function createScene(){s=window.innerHeight,a=window.innerWidth,(e=new r.Scene).fog=new r.Fog(16243114,100,950),o=a/s,60,1,1e4,(t=new r.PerspectiveCamera(60,o,1,1e4)).position.x=0,t.position.y=150,t.position.z=100,(n=new r.WebGLRenderer({alpha:!0,antialias:!0})).setSize(a,s),n.shadowMap.enabled=!0,document.getElementById("tinypolyworldthreejs").appendChild(n.domElement),window.addEventListener("resize",handleWindowResize,!1)}(),function createLights(){var t=new r.HemisphereLight(11184810,0,.9);(i=new r.DirectionalLight(16777215,.9)).position.set(0,350,350),i.castShadow=!0,i.shadow.camera.left=-650,i.shadow.camera.right=650,i.shadow.camera.top=650,i.shadow.camera.bottom=-650,i.shadow.camera.near=1,i.shadow.camera.far=1e3,i.shadow.mapSize.width=2048,i.shadow.mapSize.height=2048,e.add(t),e.add(i)}(),function createPlane(){(S=new I).mesh.scale.set(.35,.35,.35),S.mesh.position.set(-40,110,-250),e.add(S.mesh)}(),function createOrbit(){(u=new x).mesh.position.y=-600,u.mesh.rotation.z=-Math.PI/6,e.add(u.mesh)}(),function createSun(){(z=new g).mesh.scale.set(1,1,.3),z.mesh.position.set(0,-30,-850),e.add(z.mesh)}(),function createLand(){(y=new f).mesh.position.y=-600,e.add(y.mesh)}(),function createForest(){(v=new O).mesh.position.y=-600,e.add(v.mesh)}(),function createSky(){(p=new G).mesh.position.y=-600,e.add(p.mesh)}(),document.addEventListener("mousemove",handleMouseMove,!1),loop()}()});return Object(i.useEffect)((function(){d()}),[e]),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{id:"tinypolyworldthreejs"}))}},568:function(e,t,o){}}]);