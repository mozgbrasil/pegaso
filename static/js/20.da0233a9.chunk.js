(this["webpackJsonp@mozg/react-pegaso"]=this["webpackJsonp@mozg/react-pegaso"]||[]).push([[20],{569:function(t,e,a){"use strict";a.r(e);var i=a(12),o=a(80),s=a(45),n=a(0),h=a.n(n),r=a(54);a(570);o.b.registerPlugin(o.b,s.a,s.d,s.e,s.g,o.a),e.default=function(t){var e=Object(n.useState)(0),a=Object(i.a)(e,2),p=(a[0],a[1],Object(n.useState)(null)),d=Object(i.a)(p,2),w=(d[0],d[1],function textJavascript(){var t,e,a,i,n,h,p,d,w,y,l,c,M,m,u,x,v,L,I,f,P,g,R,z,b,C,O,F=0,G=6,B=0,k=.65,S=.65,T=0,E="play",j=(new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/264161/Antonio-Vivaldi-Summer_01.mp3"),new r.MeshPhongMaterial({color:1050375})),H=new r.MeshPhongMaterial({color:11815737,shininess:0}),V=new r.MeshPhongMaterial({color:8044430,shininess:0}),D=new r.MeshPhongMaterial({color:14442309,shininess:0}),A=new r.MeshPhongMaterial({color:14711383}),N=new r.MeshPhongMaterial({color:10786697});new r.MeshPhongMaterial({color:16752293}),Math.PI;function handleWindowResize(){b=window.innerHeight,C=window.innerWidth,C/2,b/2,n.setSize(C,b),e.aspect=C/b,e.updateProjectionMatrix()}function handleMouseDown(t){"play"==E?O.jump():"readyToReplay"==E&&function replay(){E="preparingToReplay",R.className="",o.a.killTweensOf(L.pawFL.position),o.a.killTweensOf(L.pawFR.position),o.a.killTweensOf(L.pawBL.position),o.a.killTweensOf(L.pawBR.position),o.a.killTweensOf(L.pawFL.rotation),o.a.killTweensOf(L.pawFR.rotation),o.a.killTweensOf(L.pawBL.rotation),o.a.killTweensOf(L.pawBR.rotation),o.a.killTweensOf(L.tail.rotation),o.a.killTweensOf(L.head.rotation),o.a.killTweensOf(L.eyeL.scale),o.a.killTweensOf(L.eyeR.scale),L.tail.rotation.y=0,o.a.to(e.position,3,{z:160,x:0,y:30,ease:s.g.easeInOut}),o.a.to(L.torso.rotation,2,{x:0,ease:s.g.easeInOut}),o.a.to(L.torso.position,2,{y:0,ease:s.g.easeInOut}),o.a.to(L.pawFL.rotation,2,{x:0,ease:s.g.easeInOut}),o.a.to(L.pawFR.rotation,2,{x:0,ease:s.g.easeInOut}),o.a.to(L.mouth.rotation,2,{x:.5,ease:s.g.easeInOut}),o.a.to(L.head.rotation,2,{y:0,x:-.3,ease:s.g.easeInOut}),o.a.to(O.mesh.position,2,{x:20,ease:s.g.easeInOut}),o.a.to(O.head.rotation,2,{x:0,y:0,ease:s.g.easeInOut}),o.a.to(L.mouth.rotation,2,{x:.2,ease:s.g.easeInOut}),o.a.to(L.mouth.rotation,1,{x:.4,ease:s.g.easeIn,delay:1,onComplete:function onComplete(){resetGame()}})}()}function removeParticle(t){t.visible=!1}function updateMonsterPosition(){L.run(),(k+=((S-=.004*F)-k)*F)<.56&&function gameOver(){R.className="show",E="gameOver",L.sit(),O.hang(),L.heroHolder.add(O.mesh),o.a.to(this,1,{speed:0}),o.a.to(e.position,3,{z:260,y:60,x:-30}),I.mesh.visible=!1,P.mesh.visible=!1,clearInterval(g)}();var t=Math.PI*k;L.mesh.position.y=212*Math.sin(t)-200,L.mesh.position.x=215*Math.cos(t),L.mesh.rotation.z=-Math.PI/2+t}p=function Hero(){this.status="running",this.runningCycle=0,this.mesh=new r.Group,this.body=new r.Group,this.mesh.add(this.body);var t=new r.CubeGeometry(7,7,10,1);this.torso=new r.Mesh(t,H),this.torso.position.z=0,this.torso.position.y=7,this.torso.castShadow=!0,this.body.add(this.torso);var e=new r.CubeGeometry(9,9,5,1);this.pants=new r.Mesh(e,N),this.pants.position.z=-3,this.pants.position.y=0,this.pants.castShadow=!0,this.torso.add(this.pants);var a=new r.CubeGeometry(3,3,3,1);a.applyMatrix4((new r.Matrix4).makeTranslation(0,0,-2)),this.tail=new r.Mesh(a,A),this.tail.position.z=-4,this.tail.position.y=5,this.tail.castShadow=!0,this.torso.add(this.tail),this.torso.rotation.x=-Math.PI/8;var i=new r.CubeGeometry(10,10,13,1);i.applyMatrix4((new r.Matrix4).makeTranslation(0,0,7.5)),this.head=new r.Mesh(i,H),this.head.position.z=2,this.head.position.y=11,this.head.castShadow=!0,this.body.add(this.head);var o=new r.CubeGeometry(1,4,4,1);this.cheekR=new r.Mesh(o,D),this.cheekR.position.x=-5,this.cheekR.position.z=7,this.cheekR.position.y=-2.5,this.cheekR.castShadow=!0,this.head.add(this.cheekR),this.cheekL=this.cheekR.clone(),this.cheekL.position.x=-this.cheekR.position.x,this.head.add(this.cheekL);var s=new r.CubeGeometry(6,6,3,1);this.nose=new r.Mesh(s,A),this.nose.position.z=13.5,this.nose.position.y=2.6,this.nose.castShadow=!0,this.head.add(this.nose);var n=new r.CubeGeometry(4,2,4,1);n.applyMatrix4((new r.Matrix4).makeTranslation(0,0,3)),n.applyMatrix4((new r.Matrix4).makeRotationX(Math.PI/12)),this.mouth=new r.Mesh(n,H),this.mouth.position.z=8,this.mouth.position.y=-4,this.mouth.castShadow=!0,this.head.add(this.mouth);var h=new r.CubeGeometry(3,3,3,1);this.pawFR=new r.Mesh(h,A),this.pawFR.position.x=-2,this.pawFR.position.z=6,this.pawFR.position.y=1.5,this.pawFR.castShadow=!0,this.body.add(this.pawFR),this.pawFL=this.pawFR.clone(),this.pawFL.position.x=-this.pawFR.position.x,this.pawFL.castShadow=!0,this.body.add(this.pawFL);var p=new r.CubeGeometry(3,3,6,1);this.pawBL=new r.Mesh(p,A),this.pawBL.position.y=1.5,this.pawBL.position.z=0,this.pawBL.position.x=5,this.pawBL.castShadow=!0,this.body.add(this.pawBL),this.pawBR=this.pawBL.clone(),this.pawBR.position.x=-this.pawBL.position.x,this.pawBR.castShadow=!0,this.body.add(this.pawBR);var d=new r.CubeGeometry(7,18,2,1);d.vertices[6].x+=2,d.vertices[6].z+=.5,d.vertices[7].x+=2,d.vertices[7].z-=.5,d.vertices[2].x-=2,d.vertices[2].z-=.5,d.vertices[3].x-=2,d.vertices[3].z+=.5,d.applyMatrix4((new r.Matrix4).makeTranslation(0,9,0)),this.earL=new r.Mesh(d,H),this.earL.position.x=2,this.earL.position.z=2.5,this.earL.position.y=5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var w=new r.CubeGeometry(2,4,4);this.eyeL=new r.Mesh(w,N),this.eyeL.position.x=5,this.eyeL.position.z=5.5,this.eyeL.position.y=2.9,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var y=new r.CubeGeometry(.6,2,2);this.iris=new r.Mesh(y,j),this.iris.position.x=1.2,this.iris.position.y=1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR),this.body.traverse((function(t){t instanceof r.Mesh&&(t.castShadow=!0,t.receiveShadow=!0)}))},(d=function BonusParticles(){this.mesh=new r.Group;var t=new r.CubeGeometry(10,10,10,1),e=new r.CubeGeometry(5,5,5,1);this.parts=[];for(var a=0;a<10;a++){var i=new r.Mesh(t,D),o=new r.Mesh(e,V);o.scale.set(.5,.5,.5),this.parts.push(i),this.parts.push(o),this.mesh.add(i),this.mesh.add(o)}}).prototype.explose=function(){for(var t=0;t<this.parts.length;t++){var e=100*Math.random()-50,a=100*Math.random()-50,i=100*Math.random()-50,n=this.parts[t];n.position.set(0,0,0),n.scale.set(1,1,1),n.visible=!0;var h=.5+.5*Math.random();o.a.to(n.position,h,{x:e,y:a,z:i,ease:s.g.easeOut}),o.a.to(n.scale,h,{x:.01,y:.01,z:.01,ease:s.g.easeOut,onComplete:removeParticle,onCompleteParams:[n]})}},p.prototype.run=function(){this.status="running";var t=Math.min(G,48);this.runningCycle+=F*t*.7,this.runningCycle=this.runningCycle%(2*Math.PI);var e=this.runningCycle;this.body.position.y=6+4*Math.sin(e-Math.PI/2),this.body.rotation.x=.2+4*Math.sin(e-Math.PI/2)*.1,this.torso.rotation.x=4*Math.sin(e-Math.PI/2)*.1,this.torso.position.y=7+4*Math.sin(e-Math.PI/2)*.5,this.mouth.rotation.x=Math.PI/16+4*Math.cos(e)*.05,this.head.position.z=2+4*Math.sin(e-Math.PI/2)*.5,this.head.position.y=8+4*Math.cos(e-Math.PI/2)*.7,this.head.rotation.x=4*Math.sin(e+Math.PI)*.1-.2,this.earL.rotation.x=.8*Math.cos(-Math.PI/2+e),this.earR.rotation.x=1.2*Math.cos(-Math.PI/2+.2+e),this.eyeR.scale.y=this.eyeL.scale.y=.7+.6*Math.abs(Math.cos(-Math.PI/4+.5*e)),this.tail.rotation.x=4*Math.cos(Math.PI/2+e)*.3,this.pawFR.position.y=1.5+4*Math.sin(e),this.pawFR.rotation.x=Math.cos(e)*Math.PI/4,this.pawFR.position.z=6-4*Math.cos(e)*2,this.pawFL.position.y=1.5+4*Math.sin(.2+e),this.pawFL.rotation.x=Math.cos(e)*Math.PI/4,this.pawFL.position.z=6-4*Math.cos(.2+e)*2,this.pawBR.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBR.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBR.position.z=4*-Math.cos(Math.PI+e),this.pawBL.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBL.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBL.position.z=4*-Math.cos(Math.PI+e)},p.prototype.jump=function(){if("jumping"!=this.status){this.status="jumping";var t=this,e=10/G;o.a.to(this.earL.rotation,e,{x:"+=.3",ease:s.a.easeOut}),o.a.to(this.earR.rotation,e,{x:"-=.3",ease:s.a.easeOut}),o.a.to(this.pawFL.rotation,e,{x:"+=.7",ease:s.a.easeOut}),o.a.to(this.pawFR.rotation,e,{x:"-=.7",ease:s.a.easeOut}),o.a.to(this.pawBL.rotation,e,{x:"+=.7",ease:s.a.easeOut}),o.a.to(this.pawBR.rotation,e,{x:"-=.7",ease:s.a.easeOut}),o.a.to(this.tail.rotation,e,{x:"+=1",ease:s.a.easeOut}),o.a.to(this.mouth.rotation,e,{x:.5,ease:s.a.easeOut}),o.a.to(this.mesh.position,e/2,{y:45,ease:s.e.easeOut}),o.a.to(this.mesh.position,e/2,{y:0,ease:s.g.easeIn,delay:e/2,onComplete:function onComplete(){t.status="running"}})}},(w=function Monster(){this.runningCycle=0,this.mesh=new r.Group,this.body=new r.Group;var t=new r.CubeGeometry(15,15,20,1);this.torso=new r.Mesh(t,j);var e=new r.CubeGeometry(20,20,40,1);e.applyMatrix4((new r.Matrix4).makeTranslation(0,0,20)),this.head=new r.Mesh(e,j),this.head.position.z=12,this.head.position.y=2;var a=new r.CubeGeometry(10,4,20,1);a.applyMatrix4((new r.Matrix4).makeTranslation(0,-2,10)),this.mouth=new r.Mesh(a,j),this.mouth.position.y=-8,this.mouth.rotation.x=.4,this.mouth.position.z=4,this.heroHolder=new r.Group,this.heroHolder.position.z=20,this.mouth.add(this.heroHolder);var i=new r.CubeGeometry(2,2,1,1);i.vertices[1].x-=1,i.vertices[4].x+=1,i.vertices[5].x+=1,i.vertices[0].x-=1;for(var o=0;o<3;o++){var s=new r.Mesh(i,N);s.position.x=2.5*o-2.8,s.position.y=1,s.position.z=19;var n=new r.Mesh(i,N);n.rotation.y=Math.PI/2,n.position.z=12+2.5*o,n.position.y=1,n.position.x=4;var h=n.clone();n.position.x=-4,this.mouth.add(s),this.mouth.add(n),this.mouth.add(h)}var p=new r.CubeGeometry(6,1,14);p.applyMatrix4((new r.Matrix4).makeTranslation(0,0,7)),this.tongue=new r.Mesh(p,D),this.tongue.position.z=2,this.tongue.rotation.x=-.2,this.mouth.add(this.tongue);var d=new r.CubeGeometry(4,4,4,1);this.nose=new r.Mesh(d,D),this.nose.position.z=39.5,this.nose.position.y=9,this.head.add(this.nose),this.head.add(this.mouth);var w=new r.CubeGeometry(2,3,3);this.eyeL=new r.Mesh(w,N),this.eyeL.position.x=10,this.eyeL.position.z=5,this.eyeL.position.y=5,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var y=new r.CubeGeometry(.6,1,1);this.iris=new r.Mesh(y,j),this.iris.position.x=1.2,this.iris.position.y=-1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR);var l=new r.CubeGeometry(8,6,2,1);l.vertices[1].x-=4,l.vertices[4].x+=4,l.vertices[5].x+=4,l.vertices[5].z-=2,l.vertices[0].x-=4,l.vertices[0].z-=2,l.applyMatrix4((new r.Matrix4).makeTranslation(0,3,0)),this.earL=new r.Mesh(l,j),this.earL.position.x=6,this.earL.position.z=1,this.earL.position.y=10,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.head.add(this.earR);w=new r.CubeGeometry(2,4,4);var c=new r.CylinderGeometry(5,2,20,4,1);c.applyMatrix4((new r.Matrix4).makeTranslation(0,10,0)),c.applyMatrix4((new r.Matrix4).makeRotationX(-Math.PI/2)),c.applyMatrix4((new r.Matrix4).makeRotationZ(Math.PI/4)),this.tail=new r.Mesh(c,j),this.tail.position.z=-10,this.tail.position.y=4,this.torso.add(this.tail);var M=new r.CylinderGeometry(1.5,0,10);M.applyMatrix4((new r.Matrix4).makeTranslation(0,-5,0)),this.pawFL=new r.Mesh(M,j),this.pawFL.position.y=-7.5,this.pawFL.position.z=8.5,this.pawFL.position.x=5.5,this.torso.add(this.pawFL),this.pawFR=this.pawFL.clone(),this.pawFR.position.x=-this.pawFL.position.x,this.torso.add(this.pawFR),this.pawBR=this.pawFR.clone(),this.pawBR.position.z=-this.pawFL.position.z,this.torso.add(this.pawBR),this.pawBL=this.pawBR.clone(),this.pawBL.position.x=this.pawFL.position.x,this.torso.add(this.pawBL),this.mesh.add(this.body),this.torso.add(this.head),this.body.add(this.torso),this.torso.castShadow=!0,this.head.castShadow=!0,this.pawFL.castShadow=!0,this.pawFR.castShadow=!0,this.pawBL.castShadow=!0,this.pawBR.castShadow=!0,this.body.rotation.y=Math.PI/2}).prototype.run=function(){var t=Math.min(G,48);this.runningCycle+=F*t*.7,this.runningCycle=this.runningCycle%(2*Math.PI);var e=this.runningCycle;this.pawFR.rotation.x=Math.sin(e)*Math.PI/4,this.pawFR.position.y=-5.5-Math.sin(e),this.pawFR.position.z=7.5+Math.cos(e),this.pawFL.rotation.x=Math.sin(e+.4)*Math.PI/4,this.pawFL.position.y=-5.5-Math.sin(e+.4),this.pawFL.position.z=7.5+Math.cos(e+.4),this.pawBL.rotation.x=Math.sin(e+2)*Math.PI/4,this.pawBL.position.y=-5.5-Math.sin(e+3.8),this.pawBL.position.z=-7.5+Math.cos(e+3.8),this.pawBR.rotation.x=Math.sin(e+2.4)*Math.PI/4,this.pawBR.position.y=-5.5-Math.sin(e+3.4),this.pawBR.position.z=-7.5+Math.cos(e+3.4),this.torso.rotation.x=Math.sin(e)*Math.PI/8,this.torso.position.y=3-3*Math.sin(e+Math.PI/2),this.head.rotation.x=.4*Math.sin(-e-1)-.1,this.mouth.rotation.x=.2+.4*Math.sin(e+Math.PI+.3),this.tail.rotation.x=.2+Math.sin(e-Math.PI/2),this.eyeR.scale.y=.5+.5*Math.sin(e+Math.PI)},p.prototype.nod=function(){var t=this,e=.5+Math.random(),a=-Math.PI/6+Math.random()*Math.PI/3;o.a.to(this.head.rotation,e,{y:a,ease:s.g.easeInOut,onComplete:function onComplete(){t.nod()}});var i=Math.PI/4+Math.random()*Math.PI/6,n=Math.PI/4+Math.random()*Math.PI/6;o.a.to(this.earL.rotation,e,{x:i,ease:s.g.easeInOut}),o.a.to(this.earR.rotation,e,{x:n,ease:s.g.easeInOut});var h=Math.random()*Math.PI/2,r=8*Math.random()-4;o.a.to(this.pawBL.rotation,e/2,{x:h,ease:s.d.easeInOut,yoyo:!0,repeat:2}),o.a.to(this.pawBL.position,e/2,{y:r,ease:s.d.easeInOut,yoyo:!0,repeat:2});var p=Math.random()*Math.PI/2,d=8*Math.random()-4;o.a.to(this.pawBR.rotation,e/2,{x:p,ease:s.d.easeInOut,yoyo:!0,repeat:2}),o.a.to(this.pawBR.position,e/2,{y:d,ease:s.d.easeInOut,yoyo:!0,repeat:2});var w=Math.random()*Math.PI/2,y=8*Math.random()-4;o.a.to(this.pawFL.rotation,e/2,{x:w,ease:s.d.easeInOut,yoyo:!0,repeat:2}),o.a.to(this.pawFL.position,e/2,{y:y,ease:s.d.easeInOut,yoyo:!0,repeat:2});var l=Math.random()*Math.PI/2,c=8*Math.random()-4;o.a.to(this.pawFR.rotation,e/2,{x:l,ease:s.d.easeInOut,yoyo:!0,repeat:2}),o.a.to(this.pawFR.position,e/2,{y:c,ease:s.d.easeInOut,yoyo:!0,repeat:2});var M=Math.random()*Math.PI/8;o.a.to(this.mouth.rotation,e,{x:M,ease:s.d.easeInOut});var m=2*Math.random()-1,u=2*Math.random()-1,x=this.iris,v=this.eyeR.children[0];o.a.to([x.position,v.position],e,{y:m,z:u,ease:s.d.easeInOut}),Math.random()>.2&&o.a.to([this.eyeR.scale,this.eyeL.scale],e/8,{y:0,ease:s.d.easeInOut,yoyo:!0,repeat:1})},p.prototype.hang=function(){var t=this,e=s.g.easeOut;o.a.killTweensOf(this.eyeL.scale),o.a.killTweensOf(this.eyeR.scale),this.body.rotation.x=0,this.torso.rotation.x=0,this.body.position.y=0,this.torso.position.y=7,o.a.to(this.mesh.rotation,1,{y:0,ease:e}),o.a.to(this.mesh.position,1,{y:-7,z:6,ease:e}),o.a.to(this.head.rotation,1,{x:Math.PI/6,ease:e,onComplete:function onComplete(){t.nod()}}),o.a.to(this.earL.rotation,1,{x:Math.PI/3,ease:e}),o.a.to(this.earR.rotation,1,{x:Math.PI/3,ease:e}),o.a.to(this.pawFL.position,1,{y:-1,z:3,ease:e}),o.a.to(this.pawFR.position,1,{y:-1,z:3,ease:e}),o.a.to(this.pawBL.position,1,{y:-2,z:-3,ease:e}),o.a.to(this.pawBR.position,1,{y:-2,z:-3,ease:e}),o.a.to(this.eyeL.scale,1,{y:1,ease:e}),o.a.to(this.eyeR.scale,1,{y:1,ease:e})},w.prototype.nod=function(){var t=this,e=1+2*Math.random(),a=-Math.PI/3+.5*Math.random(),i=Math.PI/3-.2+.4*Math.random();o.a.to(this.head.rotation,e,{x:i,y:a,ease:s.g.easeInOut,onComplete:function onComplete(){t.nod()}});var n=-Math.PI/4;o.a.to(this.tail.rotation,e/8,{y:n,ease:s.d.easeInOut,yoyo:!0,repeat:8}),o.a.to([this.eyeR.scale,this.eyeL.scale],e/20,{y:0,ease:s.d.easeInOut,yoyo:!0,repeat:1})},w.prototype.sit=function(){var t=1.2,e=s.g.easeOut,a=this;o.a.to(this.torso.rotation,t,{x:-1.3,ease:e}),o.a.to(this.torso.position,t,{y:-5,ease:e,onComplete:function onComplete(){a.nod(),E="readyToReplay"}}),o.a.to(this.head.rotation,t,{x:Math.PI/3,y:-Math.PI/3,ease:e}),o.a.to(this.tail.rotation,t,{x:2,y:Math.PI/4,ease:e}),o.a.to(this.pawBL.rotation,t,{x:-.1,ease:e}),o.a.to(this.pawBR.rotation,t,{x:-.1,ease:e}),o.a.to(this.pawFL.rotation,t,{x:1,ease:e}),o.a.to(this.pawFR.rotation,t,{x:1,ease:e}),o.a.to(this.mouth.rotation,t,{x:.3,ease:e}),o.a.to(this.eyeL.scale,t,{y:1,ease:e}),o.a.to(this.eyeR.scale,t,{y:1,ease:e})},y=function Carrot(){this.angle=0,this.mesh=new r.Group;var t=new r.CylinderGeometry(5,3,10,4,1);t.vertices[8].y+=2,t.vertices[9].y-=3,this.body=new r.Mesh(t,D);var e=new r.CubeGeometry(5,10,1,1);e.applyMatrix4((new r.Matrix4).makeTranslation(0,5,0)),e.vertices[2].x-=1,e.vertices[3].x-=1,e.vertices[6].x+=1,e.vertices[7].x+=1,this.leaf1=new r.Mesh(e,V),this.leaf1.position.y=7,this.leaf1.rotation.z=.3,this.leaf1.rotation.x=.2,this.leaf2=this.leaf1.clone(),this.leaf2.scale.set(1,1.3,1),this.leaf2.position.y=7,this.leaf2.rotation.z=-.3,this.leaf2.rotation.x=-.2,this.mesh.add(this.body),this.mesh.add(this.leaf1),this.mesh.add(this.leaf2),this.body.traverse((function(t){t instanceof r.Mesh&&(t.castShadow=!0,t.receiveShadow=!0)}))},(l=function Hedgehog(){this.angle=0,this.status="ready",this.mesh=new r.Group;var t=new r.CubeGeometry(6,6,6,1);this.body=new r.Mesh(t,j);var e=new r.CubeGeometry(5,5,7,1);this.head=new r.Mesh(e,A),this.head.position.z=6,this.head.position.y=-.5;var a=new r.CubeGeometry(1.5,1.5,1.5,1);this.nose=new r.Mesh(a,j),this.nose.position.z=4,this.nose.position.y=2;var i=new r.CubeGeometry(1,3,3);this.eyeL=new r.Mesh(i,N),this.eyeL.position.x=2.2,this.eyeL.position.z=-.5,this.eyeL.position.y=.8,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var o=new r.CubeGeometry(.5,1,1);this.iris=new r.Mesh(o,j),this.iris.position.x=.5,this.iris.position.y=.8,this.iris.position.z=.8,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x;var s=new r.CubeGeometry(.5,2,.5,1);s.applyMatrix4((new r.Matrix4).makeTranslation(0,1,0));for(var n=0;n<9;n++){var h=n%3,p=Math.floor(n/3),d=new r.Mesh(s,j);d.rotation.x=-Math.PI/2+Math.PI/12*h-.5+Math.random(),d.position.z=-3,d.position.y=2*h-2,d.position.x=2*p-2,this.body.add(d);var w=new r.Mesh(s,j);w.position.y=3,w.position.x=2*h-2,w.position.z=2*p-2,w.rotation.z=Math.PI/6-Math.PI/6*h-.5+Math.random(),this.body.add(w);var y=new r.Mesh(s,j);y.position.x=3,y.position.y=2*h-2,y.position.z=2*p-2,y.rotation.z=-Math.PI/2+Math.PI/12*h-.5+Math.random(),this.body.add(y);var l=new r.Mesh(s,j);l.position.x=-3,l.position.y=2*h-2,l.position.z=2*p-2,l.rotation.z=Math.PI/2-Math.PI/12*h-.5+Math.random(),this.body.add(l)}this.head.add(this.eyeR);var c=new r.CubeGeometry(2,2,.5,1);this.earL=new r.Mesh(c,A),this.earL.position.x=2.5,this.earL.position.z=-2.5,this.earL.position.y=2.5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var M=new r.CubeGeometry(1,1,.5,1);this.mouth=new r.Mesh(M,j),this.mouth.position.z=3.5,this.mouth.position.y=-1.5,this.head.add(this.mouth),this.mesh.add(this.body),this.body.add(this.head),this.head.add(this.nose),this.mesh.traverse((function(t){t instanceof r.Mesh&&(t.castShadow=!0,t.receiveShadow=!0)}))}).prototype.nod=function(){var t=this,e=.1+.5*Math.random(),a=-Math.PI/4+Math.random()*Math.PI/2;o.a.to(this.head.rotation,e,{y:a,onComplete:function onComplete(){t.nod()}})};new r.Group;function checkCollision(){var t=O.mesh.position.clone().sub(I.mesh.position.clone()),e=O.mesh.position.clone().sub(P.mesh.position.clone());t.length()<20&&function getBonus(){f.mesh.position.copy(I.mesh.position),f.mesh.visible=!0,f.explose(),I.angle+=Math.PI/2,S+=.025}(),e.length()<10&&"flying"!=P.status&&function getMalus(){P.status="flying";var t=Math.random()>.5?-20-10*Math.random():20+5*Math.random();o.a.to(P.mesh.position,4,{x:t,y:50*Math.random(),z:350,ease:s.g.easeOut}),o.a.to(P.mesh.rotation,4,{x:3*Math.PI,z:3*Math.PI,y:6*Math.PI,ease:s.g.easeOut,onComplete:function onComplete(){P.status="ready",P.body.rotation.y=Math.random()*Math.PI*2,P.angle=-T-.4*Math.random(),P.angle=P.angle%(2*Math.PI),P.mesh.rotation.x=0,P.mesh.rotation.y=0,P.mesh.rotation.z=0,P.mesh.position.z=0}}),S-=.04,o.a.from(this,.5,{malusClearAlpha:.5,onUpdate:function onUpdate(){n.setClearColor(11815737,0)}})}()}function updateLevel(){G>=48||(G+=2)}function loop(){F=h.getDelta(),function updateFloorRotation(){T+=.03*F*G,T%=2*Math.PI,v.rotation.z=T}(),"play"==E&&("running"==O.status&&O.run(),function updateDistance(){var t=(B+=F*G)/2;z.innerHTML=Math.floor(t)}(),updateMonsterPosition(),function updateCarrotPosition(){I.mesh.rotation.y+=6*F,I.mesh.rotation.z=Math.PI/2-(T+I.angle),I.mesh.position.y=250*Math.sin(T+I.angle)-200,I.mesh.position.x=250*Math.cos(T+I.angle)}(),function updateObstaclePosition(){"flying"!=P.status&&(T+P.angle>2.5&&(P.angle=-T+.3*Math.random(),P.body.rotation.y=Math.random()*Math.PI*2),P.mesh.rotation.z=T+P.angle-Math.PI/2,P.mesh.position.y=203*Math.sin(T+P.angle)-200,P.mesh.position.x=203*Math.cos(T+P.angle))}(),checkCollision()),function render(){n.render(t,e)}(),requestAnimationFrame(loop)}function resetGame(){t.add(O.mesh),O.mesh.rotation.y=Math.PI/2,O.mesh.position.y=0,O.mesh.position.z=0,O.mesh.position.x=0,k=.56,S=.65,G=5,0,B=0,I.mesh.visible=!0,P.mesh.visible=!0,E="play",O.status="running",O.nod(),updateLevel(),g=setInterval(updateLevel,3e3)}c=function Tree(){this.mesh=new r.Object3D,this.trunc=new M,this.mesh.add(this.trunc.mesh)},M=function Trunc(){var t=50+150*Math.random(),e=1+5*Math.random(),a=5+5*Math.random(),i=[j,H,D,N,V,A,D],o=j,s=new r.CylinderGeometry(e,a,t,3,3);s.applyMatrix4((new r.Matrix4).makeTranslation(0,t/2,0)),this.mesh=new r.Mesh(s,o);for(var n=0;n<s.vertices.length;n++){var h=Math.random(),p=s.vertices[n];if(p.x+=-h+Math.random()*h*2,p.y+=-h+Math.random()*h*2,p.z+=-h+Math.random()*h*2,s.computeVertexNormals(),Math.random()>.7){var d=3*Math.random(),w=new r.CubeGeometry(d,d,d,1),y=i[Math.floor(Math.random()*i.length)],l=new r.Mesh(w,y);l.position.x=p.x,l.position.y=p.y+3,l.position.z=p.z,l.rotation.x=Math.random()*Math.PI,l.rotation.y=Math.random()*Math.PI,this.mesh.add(l)}if(Math.random()>.5&&p.y>10&&p.y<t-10){var c=3+5*Math.random(),M=.2+Math.random(),m=new r.CylinderGeometry(M/2,M,c,3,1);m.applyMatrix4((new r.Matrix4).makeTranslation(0,c/2,0));var u=new r.Mesh(m,o);u.position.x=p.x,u.position.y=p.y,u.position.z=p.z;var x=new r.Vector3(p.x,2,p.z),v=new r.Vector3(0,1,0);u.quaternion.setFromUnitVectors(v,x.clone().normalize()),this.mesh.add(u)}}this.mesh.castShadow=!0},function init(o){!function initScreenAnd3D(){b=window.innerHeight,C=window.innerWidth,C/2,b/2,(t=new r.Scene).fog=new r.Fog(14084838,160,350),a=C/b,50,1,2e3,(e=new r.PerspectiveCamera(50,a,1,2e3)).position.x=0,e.position.z=160,e.position.y=30,e.lookAt(new r.Vector3(0,30,0)),(n=new r.WebGLRenderer({alpha:!0,antialias:!0})).setPixelRatio(window.devicePixelRatio),n.setClearColor(11815737,0),n.setSize(C,b),n.shadowMap.enabled=!0,document.getElementById("valorous-rabbit-world").appendChild(n.domElement),window.addEventListener("resize",handleWindowResize,!1),document.addEventListener("mousedown",handleMouseDown,!1),document.addEventListener("touchend",handleMouseDown,!1),h=new r.Clock}(),function createLights(){m=new r.AmbientLight(16777215,.9),(i=new r.DirectionalLight(16777215,1)).position.set(-30,40,20),i.castShadow=!0,i.shadow.camera.left=-400,i.shadow.camera.right=400,i.shadow.camera.top=400,i.shadow.camera.bottom=-400,i.shadow.camera.near=1,i.shadow.camera.far=2e3,i.shadow.mapSize.width=i.shadow.mapSize.height=2048,t.add(m),t.add(i)}(),function createFloor(){(u=new r.Mesh(new r.SphereGeometry(200,50,50),new r.MeshPhongMaterial({color:8044430,specular:0,shininess:1,transparent:!0,opacity:.5}))).receiveShadow=!0,(x=new r.Mesh(new r.SphereGeometry(199.5,50,50),new r.MeshBasicMaterial({color:8044430}))).receiveShadow=!1,(v=new r.Group).position.y=-200,v.add(u),v.add(x),t.add(v)}(),function createHero(){(O=new p).mesh.rotation.y=Math.PI/2,t.add(O.mesh),O.nod()}(),function createMonster(){(L=new w).mesh.position.z=20,t.add(L.mesh),updateMonsterPosition()}(),function createFirs(){for(var t=0;t<100;t++){var e=t*(2*Math.PI)/100,a=Math.PI/2;a+=Math.random()>.05?.25+.3*Math.random():-.35-.1*Math.random();var i=new c;i.mesh.position.x=Math.sin(a)*Math.cos(e)*200,i.mesh.position.y=Math.sin(a)*Math.sin(e)*190,i.mesh.position.z=200*Math.cos(a);var o=i.mesh.position.clone(),s=new r.Vector3(0,1,0);i.mesh.quaternion.setFromUnitVectors(s,o.clone().normalize()),v.add(i.mesh)}}(),function createCarrot(){I=new y,t.add(I.mesh)}(),function createBonusParticles(){(f=new d).mesh.visible=!1,t.add(f.mesh)}(),function createObstacle(){(P=new l).body.rotation.y=-Math.PI/2,P.mesh.scale.set(1.1,1.1,1.1),P.mesh.position.y=204,P.nod(),t.add(P.mesh)}(),function initUI(){z=document.getElementById("distValue"),R=document.getElementById("gameoverInstructions")}(),resetGame(),loop()}()});return Object(n.useEffect)((function(){w()}),[t]),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{id:"valorous-rabbit-world"}),h.a.createElement("div",{id:"gameoverInstructions"},"Game Over"),h.a.createElement("div",{id:"dist"},h.a.createElement("div",{className:"label"},"distance"),h.a.createElement("div",{id:"distValue"},"000")),h.a.createElement("div",{id:"instructions"},"Click to jump",h.a.createElement("span",{className:"lightInstructions"}," ","\u2014 Grab the carrots / avoid the hedgehogs")),h.a.createElement("div",{id:"credits"},h.a.createElement("p",null,h.a.createElement("a",{href:"https://codepen.io/Yakudoo/",target:"blank"},"other codepens")," ","|"," ",h.a.createElement("a",{href:"https://www.epic.net",target:"blank"},"epic.net"))))}},570:function(t,e,a){}}]);